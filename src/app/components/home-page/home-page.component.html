<ng-container *ngIf="isProUser()">
  <app-button (clickMethod)="newTicket()" [colorBtn]="'yellow'" class="addTicket" [textButton]="'Ajouter un ticket'"></app-button>
</ng-container>

<ng-container *ngIf="(tickets$ | async) as ticket">
  <mat-card *ngFor="let ticket of (tickets$ |async)">

    <mat-card-header>
      <app-edit-field [title]="'Nom :'" [value]="ticket.title"></app-edit-field>
    </mat-card-header>

    <mat-card-content>
      <app-edit-field #price
                      [title]="'Prix :'"
                      [value]="ticket.price"
                      [isEditable]="isProUser()"
                      (contentWhileEditingChange)="updatePriceTicket($event, ticket.id)"></app-edit-field>

      <app-edit-field #nbTickets
                      [title]="'Adresse :'"
                      [value]="ticket.address"
                      [isEditable]="isProUser()"
                      (contentWhileEditingChange)="updateNumberTicket($event, ticket.id)"></app-edit-field>

      <app-edit-field #address
                      [title]="'Adresse :'"
                      [value]="ticket.address"
                      [isEditable]="isProUser()"
                      (contentWhileEditingChange)="updateAddress($event, ticket.id)"></app-edit-field>

    </mat-card-content>

    <div *ngIf="isProUser()" class="d-flex justify-content-end my-4">
      <button class="btn-flat" (click)="deleteTicket(ticket.id)">
        <mat-icon>delete</mat-icon>
      </button>
    </div>

  </mat-card>
</ng-container>

